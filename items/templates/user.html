{% extends "base.html" %}

{% block content %}
<h1>
  <a href="{% url 'user' username=show_user.username %}">{{ show_user.first_name }}</a>
</h1>

<div class="content">
  <h2>{{ show_user.items_count }} Submission{{ show_user.items_count|pluralize }}</h2>

  {% include "_sort.html" %}
  <hr />

  {% for item in items %}
    {% if item.latest_version %}
      {% with show=item version=item.latest_version.0 screenshot=item.random_screenshot.0 %}
        {% include "_show_partial.html" %}
      {% endwith %}
    {% else %}
    <ul class="messages">
      <li class="warning">
        <div style="display: flex; gap: 1rem; flex-direction: row; justify-content: space-between">
          <div style="flex-shrink: 1">"{{ item.name }}" has no versions.</div>
          <div style="flex-shrink: 0">
            <a href="{% url 'add_version' item_permalink=item.permalink %}">Add version</a><br />
            <a href="{% url 'item_delete' item_permalink=item.permalink %}">Delete item</a>
          </div>
        </div>
      </li>
    </ul>
    {% endif %}

  {% endfor %}
</div>

<div class="content">
  <h2>{{ show_user.reviews_count }} Review{{ show_user.reviews_count|pluralize }}</h2>

  {% for review in reviews %}
    {% include '_show_review.html' with show=review %}
  {% endfor %}
</div>
{% endblock content %}
